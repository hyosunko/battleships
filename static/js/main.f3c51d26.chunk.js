(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,o){},16:function(t,e,o){},18:function(t,e,o){"use strict";o.r(e);var r=o(0),n=o.n(r),a=o(7),i=o.n(a),s=(o(14),o(1)),l=o(2),p=o(4),c=o(3),h=o(5),d=(o(16),function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{className:"title-header"},"Battleship Game",n.a.createElement("p",null,this.props.boardInfo.shipHitMessage,this.props.boardInfo.winStatus))}}]),e}(r.Component)),u=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t={height:this.props.boxSize,width:this.props.boxSize,backgroundColor:"blue"};return n.a.createElement("div",{style:t,className:"cell",onClick:this.props.fireClick,id:this.props.id},n.a.createElement("div",{className:"icon"},this.props.shipImage))}}]),e}(r.Component),f=function(t){function e(){var t,o;Object(s.a)(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(o=Object(p.a)(this,(t=Object(c.a)(e)).call.apply(t,[this].concat(n)))).reset=function(t){t.preventDefault(),o.props.reset()},o}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{className:"footer"},n.a.createElement("div",null,n.a.createElement("p",null,"Torpedo Remains : ",this.props.boardInfo.torpedoCount),n.a.createElement("form",{className:"form-button",onSubmit:this.reset},n.a.createElement("button",{className:"button1",type:"submit"},"Reset"))),n.a.createElement("div",{className:"game-info"},"Ship Remains : ",this.props.boardInfo.battleShipRemains,"/",this.props.boardInfo.battleShipTotal,n.a.createElement("br",null),this.props.boardInfo.shipInfo[0][1],"(",this.props.boardInfo.shipInfo[0][2],"Blocks) : ",this.props.boardInfo.shipInfo[0][4],"/",this.props.boardInfo.shipInfo[0][3]," ",n.a.createElement("br",null),this.props.boardInfo.shipInfo[1][1],"(",this.props.boardInfo.shipInfo[1][2],"Blocks) : ",this.props.boardInfo.shipInfo[1][4],"/",this.props.boardInfo.shipInfo[1][3],n.a.createElement("br",null),this.props.boardInfo.shipInfo[2][1],"(",this.props.boardInfo.shipInfo[2][2],"Blocks) : ",this.props.boardInfo.shipInfo[2][4],"/",this.props.boardInfo.shipInfo[2][3],n.a.createElement("br",null),this.props.boardInfo.shipInfo[3][1],"(",this.props.boardInfo.shipInfo[3][2],"Blocks) : ",this.props.boardInfo.shipInfo[3][4],"/",this.props.boardInfo.shipInfo[3][3],n.a.createElement("br",null),this.props.boardInfo.shipInfo[4][1],"(",this.props.boardInfo.shipInfo[4][2],"Blocks) : ",this.props.boardInfo.shipInfo[4][4],"/",this.props.boardInfo.shipInfo[4][3],n.a.createElement("br",null)))}}]),e}(r.Component),b=function(t){function e(t){var o;return Object(s.a)(this,e),(o=Object(p.a)(this,Object(c.a)(e).call(this,t))).getScreenWidth=function(){var t=document.body.parentNode,e=document.body;return window.opera?e.clientWidth:"CSS1Compat"==document.compatMode?t.clientWidth:e.clientWidth},o.reset=function(){window.location.reload()},o.createBoard=function(t,e){return Array(Math.pow(e,2)).fill(0)},o.placeShip=function(){},o.fireClick=function(t){var e=parseInt(t.target.id),r=o.state,n=r.boardArray,a=r.boardSize,i=r.torpedoCount,s=r.shipInfo,l=r.shipPosition,p=r.shipHitCondition,c=r.shipHitMessage,h=r.winStatus,d=r.battleShipRemains,u=r.clickedCellArray,f=r.shipImageArray;console.log(" "),console.log(o.state);var b=document.getElementById(e);if(console.log("x: ",b),i>0&&n[e]%a===0&&""===h){if(n[e]++,i--,c="",n[e]>1){var m=o.getIndexOfHit(l,e);p[m[0]][m[1]]=0;var I=p[m[0]].reduce(function(t,e){return t+e});if(0===p.reduce(function(t,e){return t.concat(e)}).reduce(function(t,e){return t+e})){f=n.map(function(t){return t>1?"\ud83d\udea2":""}),h="You won the game";for(var g=0;g<s.length;g++)s[g][4]=0;d=0}else 0===i?(h="You lost the game",f=n.map(function(t){return t>1?"\ud83d\udea2":""})):0===I&&(c="".concat(s[Math.trunc(n[e]/a)-1][1]," has been destroyed"),s[Math.trunc(n[e]/a)-1][4]--,d=s.map(function(t){return t[4]}).reduce(function(t,e){return t+e}))}else 0===i&&(h="You lost the game",f=n.map(function(t){return t>1?"\ud83d\udea2":""}),b.style.backgroundColor="gray");n[e]>1?b.style.backgroundColor="red":b.style.backgroundColor="gray",u.push(b),console.log("clickedCellArray",u),console.log("clickedCellArray id",u[0].id),console.log("shipImageArray",f)}o.setState({boardArray:n,torpedoCount:i,shipPosition:l,shipHitCondition:p,shipHitMessage:c,winStatus:h,battleShipRemains:d,clickedCellArray:u,shipImageArray:f})},o.getIndexOfHit=function(t,e){if(!t)return[];for(var o=0;o<t.length;o++){var r=t[o].indexOf(e);if(r>-1)return[o,r]}return[]},o.state={boardSize:10,boardArray:[],shipImageArray:[],torpedoCount:50,shipInfo:[[1,"Carrier",5,1,1],[2,"Battleship",4,2,2],[3,"Destroyer",3,2,2],[4,"Submarine",3,2,2],[5,"Patrol Boat",2,2,2]],shipPosition:[],shipHitCondition:[],boardColWidth:[],shipHitMessage:"",winStatus:"",battleShipTotal:0,battleShipRemains:0,clickedCellArray:[],boxSize:"50px"},o}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this.state,e=t.boardSize,o=t.boardArray,r=(t.torpedoCount,t.shipInfo),n=t.shipPosition,a=t.shipHitCondition,i=t.boardColWidth,s=t.battleShipRemains,l=t.battleShipTotal,p=t.boxSize,c=t.shipImageArray;o=this.createBoard(o,e),console.log("boardArray: ",o),c=Array(Math.pow(e,2)).fill("");var h=this.getScreenWidth();h<500&&(p="40px"),console.log("screenWidth",h),i=Array(e).fill(p),console.log("boardColWidth",i);var d=r.length,u=[],f=[],b=100;for(l=s=r.map(function(t){return t[4]}).reduce(function(t,e){return t+e});d>0;){b--;for(var m=r.length-d,I=r[m][3];I>0;){var g=Math.floor(2*Math.random()),y=Math.floor(Math.random()*Math.pow(e,2)),v=Math.trunc(y/e)%e,C=y%e;if(o.length<Math.pow(e,2)){I--,d--;break}if(b<0){I--,d--;break}if(0===g&&v+r[m][2]<e||1===g&&C+r[m][2]<e){for(var S=0===g?Math.pow(e,1):Math.pow(e,0),k=0,w=0;w<r[m][2];w++){var A=v-1<0?v:v-1,E=v+1>=e?v:v+1,O=C-1<0?C:C-1,j=C+1>=e?C:C+1;0===o[v*e+C+w*S]&&0===o[A*e+C+w*S]&&0===o[E*e+C+w*S]&&0===o[v*e+j+w*S]&&0===o[v*e+O+w*S]&&0===o[A*e+O+w*S]&&0===o[A*e+j+w*S]&&0===o[E*e+O+w*S]&&0===o[E*e+j+w*S]&&k++}if(k===r[m][2]){for(var M=0;M<r[m][2];M++)o[v*e+C+M*S]=10*r[m][0],u.push(v*e+C+M*S),f.push(1);I--,n.push(u),a.push(f),u=[],f=[],b--}}}if(d--,b<0){I--,d--;break}}this.setState({boardArray:o,shipPosition:n,shipHitCondition:a,boardColWidth:i,battleShipRemains:s,battleShipTotal:l,boxSize:p,shipImageArray:c})}},{key:"render",value:function(){var t=this;console.log("render state",this.state);var e=this.state.boardArray.map(function(e,o){return n.a.createElement(u,{id:o,key:o,fireClick:t.fireClick,boardValue:t.state.boardArray[o],boxSize:t.state.boxSize,winStatus:t.state.winStatus,shipImage:t.state.shipImageArray[o]})});console.log("grids",e);var o={display:"grid",margin:"auto",justifyContent:"center",gridTemplateColumns:this.state.boardColWidth.join(" ")};return n.a.createElement("div",null,n.a.createElement(d,{boardInfo:this.state}),n.a.createElement("div",{style:o},e),n.a.createElement(f,{boardInfo:this.state,reset:this.reset}))}}]),e}(r.Component);i.a.render(n.a.createElement(b,null),document.getElementById("root"))},8:function(t,e,o){t.exports=o(18)}},[[8,2,1]]]);
//# sourceMappingURL=main.f3c51d26.chunk.js.map