(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,o){},16:function(t,e,o){},18:function(t,e,o){"use strict";o.r(e);var r=o(0),a=o.n(r),n=o(7),i=o.n(n),s=(o(14),o(1)),l=o(2),p=o(4),h=o(3),c=o(5),f=(o(16),function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"title-header"},"Battleship Game",a.a.createElement("p",null,this.props.boardInfo.shipHitMessage,this.props.boardInfo.winStatus))}}]),e}(r.Component)),u=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"cell",onClick:this.props.fireClick,id:this.props.id})}}]),e}(r.Component),d=function(t){function e(){var t,o;Object(s.a)(this,e);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(o=Object(p.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(a)))).reset=function(t){t.preventDefault(),o.props.reset()},o}return Object(c.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"footer"},a.a.createElement("div",null,a.a.createElement("p",null,"Torpedo Remains : ",this.props.boardInfo.torpedoCount),a.a.createElement("form",{className:"form-button",onSubmit:this.reset},a.a.createElement("button",{className:"button1",type:"submit"},"Reset"))),a.a.createElement("div",{className:"game-info"},"Ship Remains : ",this.props.boardInfo.battleShipRemains,"/",this.props.boardInfo.battleShipTotal,a.a.createElement("br",null),this.props.boardInfo.shipInfo[0][1],"(",this.props.boardInfo.shipInfo[0][2],"Blocks) : ",this.props.boardInfo.shipInfo[0][4],"/",this.props.boardInfo.shipInfo[0][3]," ",a.a.createElement("br",null),this.props.boardInfo.shipInfo[1][1],"(",this.props.boardInfo.shipInfo[1][2],"Blocks) : ",this.props.boardInfo.shipInfo[1][4],"/",this.props.boardInfo.shipInfo[1][3],a.a.createElement("br",null),this.props.boardInfo.shipInfo[2][1],"(",this.props.boardInfo.shipInfo[2][2],"Blocks) : ",this.props.boardInfo.shipInfo[2][4],"/",this.props.boardInfo.shipInfo[2][3],a.a.createElement("br",null),this.props.boardInfo.shipInfo[3][1],"(",this.props.boardInfo.shipInfo[3][2],"Blocks) : ",this.props.boardInfo.shipInfo[3][4],"/",this.props.boardInfo.shipInfo[3][3],a.a.createElement("br",null),this.props.boardInfo.shipInfo[4][1],"(",this.props.boardInfo.shipInfo[4][2],"Blocks) : ",this.props.boardInfo.shipInfo[4][4],"/",this.props.boardInfo.shipInfo[4][3],a.a.createElement("br",null)))}}]),e}(r.Component),b=function(t){function e(t){var o;return Object(s.a)(this,e),(o=Object(p.a)(this,Object(h.a)(e).call(this,t))).reset=function(){window.location.reload()},o.createBoard=function(){var t=o.state,e=t.boardArray,r=t.boardSize;e=Array(Math.pow(r,2)).fill(0),o.setState={boardArray:e}},o.placeShip=function(){var t=o.state,e=t.boardSize,r=t.boardArray,a=t.shipInfo,n=t.shipPosition,i=a.length,s=[],l=100;for(r=Array(Math.pow(e,2)).fill(0);i>0;){for(var p=a.length-i,h=a[p][3];h>0;){var c=Math.floor(Math.random()*Math.pow(e,2)),f=Math.floor(2*Math.random()),u=Math.trunc(c/e)%e,d=c%e;if(l<0){h--,i--;break}if(0===f&&u+a[p][2]<e||1===f&&d+a[p][2]<e){for(var b=0===f?Math.pow(e,1):Math.pow(e,0),m=0,I=0;I<a[p][2];I++){if(0!==r[u*e+d+I*b]){l--;break}if(m++,l<0)break}if(m===a[p][2]){for(var y=0;y<a[p][2];y++)r[u*e+d+y*b]=10*a[p][0],s.push(u*e+d+y*b);h--,n.push(s),s=[],l--}}}if(i--,--l<0)break}o.setState({boardArray:r,shipPosition:n}),console.log(r)},o.fireClick=function(t){var e=parseInt(t.target.id),r=o.state,a=r.boardArray,n=r.boardSize,i=r.torpedoCount,s=r.fireCount,l=r.shipInfo,p=r.shipPosition,h=r.shipHitCondition,c=r.shipHitMessage,f=r.winStatus,u=r.battleShipRemains,d=r.clickedCellArray;console.log(" "),console.log(o.state);var b=document.getElementById(e);if(console.log("x: ",b),i>0&&a[e]%n===0&&""===f){if(a[e]++,i--,c="",a[e]>1){var m=o.getIndexOfHit(p,e);h[m[0]][m[1]]=0;var I=h[m[0]].reduce(function(t,e){return t+e});if(0===h.reduce(function(t,e){return t.concat(e)}).reduce(function(t,e){return t+e})){f="You won the game",console.log("games status: ",f);for(var y=0;y<l.length;y++)l[y][4]=0;u=0}else 0===i?(f="You lost the game",console.log("games status: ",f)):0===I&&(c="".concat(l[Math.trunc(a[e]/n)-1][1]," has been destroyed"),l[Math.trunc(a[e]/n)-1][4]--,u=l.map(function(t){return t[4]}).reduce(function(t,e){return t+e}),console.log("shipHitMessage: ",c))}else 0===i&&(f="You lost the game",b.style.backgroundColor="gray");console.log("boardArray[cellId]",a[e]),a[e]>1?b.style.backgroundColor="red":b.style.backgroundColor="gray",d.push(b)}o.setState({boardArray:a,torpedoCount:i,fireCount:s,shipPosition:p,shipHitCondition:h,shipHitMessage:c,winStatus:f,battleShipRemains:u,clickedCellArray:d})},o.getIndexOfHit=function(t,e){if(!t)return[];for(var o=0;o<t.length;o++){var r=t[o].indexOf(e);if(r>-1)return[o,r]}return[]},o.state={boardSize:10,boardArray:[],torpedoCount:50,fireCount:0,shipInfo:[[1,"Carrier",5,1,1],[2,"Battleship",4,2,2],[3,"Destroyer",3,2,2],[4,"Submarine",3,2,2],[5,"Patrol Boat",2,2,2]],shipPosition:[],shipHitCondition:[],boardColWidth:[],shipHitMessage:"",winStatus:"",battleShipTotal:0,battleShipRemains:0,clickedCellArray:[]},o}return Object(c.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this.state,e=t.boardSize,o=t.boardArray,r=(t.torpedoCount,t.shipInfo),a=t.shipPosition,n=t.shipHitCondition,i=t.boardColWidth,s=t.battleShipRemains,l=t.battleShipTotal;o=Array(Math.pow(e,2)).fill(0),i=Array(e).fill("50px");var p=r.length,h=[],c=[],f=1e3;for(l=s=r.map(function(t){return t[4]}).reduce(function(t,e){return t+e});p>0;){for(var u=r.length-p,d=r[u][3];d>0;){var b=Math.floor(2*Math.random()),m=Math.floor(Math.random()*Math.pow(e,2)),I=Math.trunc(m/e)%e,y=m%e;if(f<0){d--,p--;break}if(0===b&&I+r[u][2]<e||1===b&&y+r[u][2]<e){for(var g=0===b?Math.pow(e,1):Math.pow(e,0),v=0,C=0;C<r[u][2];C++){var k=I-1<0?I:I-1,M=I+1>=e?I:I+1,S=y-1<0?y:y-1,w=y+1>=e?y:y+1;if(0!==o[I*e+y+C*g]||0!==o[k*e+y+C*g]||0!==o[M*e+y+C*g]||0!==o[I*e+w+C*g]||0!==o[I*e+S+C*g]){f--;break}if(v++,f<0)break}if(v===r[u][2]){for(var E=0;E<r[u][2];E++)o[I*e+y+E*g]=10*r[u][0],h.push(I*e+y+E*g),c.push(1);d--,a.push(h),n.push(c),h=[],c=[],f--}}}if(p--,--f<0)break}this.setState({boardArray:o,shipPosition:a,shipHitCondition:n,boardColWidth:i,battleShipRemains:s,battleShipTotal:l})}},{key:"render",value:function(){var t=this;console.log("render state",this.state);var e=this.state.boardArray.map(function(e,o){return a.a.createElement(u,{id:o,fireClick:t.fireClick,boardValue:t.state.boardArray[o]})}),o={display:"grid",margin:"auto",justifyContent:"center",gridTemplateColumns:this.state.boardColWidth.join(" ")};return a.a.createElement("div",null,a.a.createElement(f,{boardInfo:this.state}),a.a.createElement("div",{style:o},e),a.a.createElement(d,{boardInfo:this.state,reset:this.reset}))}}]),e}(r.Component);i.a.render(a.a.createElement(b,null),document.getElementById("root"))},8:function(t,e,o){t.exports=o(18)}},[[8,2,1]]]);
//# sourceMappingURL=main.87122911.chunk.js.map